# AudioMason Minimal Workflow - no questions, auto mode
# Použite pre automatizované spracovanie bez interakcie

workflow:
  name: "Minimal Import"
  description: "Fast automatic import without questions"
  
  # Preflight steps - len vyber zdroja
  preflight_steps:
    - id: choose_source
      type: menu
      enabled: true
      prompt: "Choose source number, or 'a' for all"
      default: "1"
    
    # Žiadne otázky - použijú sa config/CLI hodnoty
    # Author a title sa berú z názvu adresára
    - id: author
      type: input
      enabled: true
      prompt: "Author name"
      required: true
      hint_from: source_name
      hint_pattern: "^([^-]+)"
    
    - id: title
      type: input
      enabled: true
      prompt: "Book title"
      required: true
      hint_from: source_name
      hint_pattern: " - (.+?)(?:\\s*\\(\\d{4}\\))?(?:\\s*\\([A-Z]{2}\\))?$"
  
  # Processing steps - len základné
  processing_steps:
    - id: import
      plugin: file_io_sync
      method: import_to_stage
      enabled: true
      description: "Import to stage"
    
    - id: audio_process
      plugin: audio_processor_sync
      method: process_files
      enabled: true
      description: "Convert audio"
    
    - id: id3_tag
      plugin: id3_tagger_sync
      method: tag_files
      enabled: true
      description: "Tag files"
    
    - id: export
      plugin: file_io_sync
      method: export_to_output
      enabled: true
      description: "Export to output"
    
    # Cleanup vždy zapnutý
    - id: cleanup_stage
      plugin: file_io_sync
      method: cleanup_stage
      enabled: true
      description: "Clean stage"

verbosity:
  quiet:
    - errors
  
  normal:
    - errors
    - workflow_steps
  
  verbose:
    - errors
    - workflow_steps
    - file_operations
  
  debug:
    - errors
    - workflow_steps
    - file_operations
    - config_values
    - ffmpeg_output
